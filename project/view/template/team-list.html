<!DOCTYPE html>
<html lang="en" data-layout="vertical" data-topbar="light" data-sidebar="dark" data-sidebar-size="lg"
    data-sidebar-image="none">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Smarthr - Bootstrap Admin Template">
    <meta name="keywords"
        content="admin, estimates, bootstrap, business, corporate, creative, management, minimal, modern, accounts, invoice, html5, responsive, CRM, Projects">
    <meta name="author" content="Dreamguys - Bootstrap Admin Template">
    <title>Dashboard - CAG</title>

    <link rel="shortcut icon" type="image/x-icon" href="assets/img/cagp.png">

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

    <link rel="stylesheet" href="assets/css/line-awesome.min.css">
    <link rel="stylesheet" href="assets/css/material.css">

    <link rel="stylesheet" href="assets/plugins/morris/morris.css">

    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <div class="main-wrapper">

        <div class="header">

            <div class="header-left">
                <a href="master.html" class="logo">
                    <img src="assets/img/cagp.png" width="40" height="40" alt="Logo">
                </a>
                <a href="master.html" class="logo2">
                    <img src="assets/img/cagp.png" width="40" height="40" alt="Logo">
                </a>
            </div>

            <a id="toggle_btn" href="javascript:void(0);">
                <span class="bar-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </a>

            <div class="page-title-box">
                <h3>CENTRALINDO ADI GUNA</h3>
            </div>

            <a id="mobile_btn" class="mobile_btn" href="#sidebar"><i class="fa-solid fa-bars"></i></a>

            <ul class="nav user-menu">

                <li class="nav-item dropdown">
                    <a href="#" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
                        <i class="fa-regular fa-bell"></i> <span class="badge rounded-pill">3</span>
                    </a>
                    <div class="dropdown-menu notifications">
                        <div class="topnav-dropdown-header">
                            <span class="notification-title">Notifications</span>
                            <a href="javascript:void(0)" class="clear-noti"> Clear All </a>
                        </div>
                        <div class="noti-content">
                            <ul class="notification-list">
                                <li class="notification-message">
                                    <a href="activities.html">
                                        <div class="chat-block d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <img src="assets/img/profiles/avatar-02.jpg" alt="User Image">
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details"><span class="noti-title">John Doe</span> added
                                                    new task <span class="noti-title">Patient appointment booking</span>
                                                </p>
                                                <p class="noti-time"><span class="notification-time">4 mins ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="notification-message">
                                    <a href="activities.html">
                                        <div class="chat-block d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <img src="assets/img/profiles/avatar-03.jpg" alt="User Image">
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details"><span class="noti-title">Tarah Shropshire</span>
                                                    changed the task name <span class="noti-title">Appointment booking
                                                        with payment gateway</span></p>
                                                <p class="noti-time"><span class="notification-time">6 mins ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="notification-message">
                                    <a href="activities.html">
                                        <div class="chat-block d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <img src="assets/img/profiles/avatar-06.jpg" alt="User Image">
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details"><span class="noti-title">Misty Tison</span>
                                                    added <span class="noti-title">Domenic Houston</span> and <span
                                                        class="noti-title">Claire Mapes</span> to project <span
                                                        class="noti-title">Doctor available module</span></p>
                                                <p class="noti-time"><span class="notification-time">8 mins ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="notification-message">
                                    <a href="activities.html">
                                        <div class="chat-block d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <img src="assets/img/profiles/avatar-17.jpg" alt="User Image">
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details"><span class="noti-title">Rolland Webber</span>
                                                    completed task <span class="noti-title">Patient and Doctor video
                                                        conferencing</span></p>
                                                <p class="noti-time"><span class="notification-time">12 mins ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="notification-message">
                                    <a href="activities.html">
                                        <div class="chat-block d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <img src="assets/img/profiles/avatar-13.jpg" alt="User Image">
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details"><span class="noti-title">Bernardo Galaviz</span>
                                                    added new task <span class="noti-title">Private chat module</span>
                                                </p>
                                                <p class="noti-time"><span class="notification-time">2 days ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="topnav-dropdown-footer">
                            <a href="activities.html">View all Notifications</a>
                        </div>
                    </div>
                </li>




                <li class="nav-item dropdown has-arrow main-drop">
                    <a href="#" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
                        <span class="user-img"><img src="assets/img/profiles/avatar-21.jpg" alt="User Image">
                            <span class="status online"></span></span>
                        <span>Admin</span>
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="profile.html">My Profile</a>
                        <a class="dropdown-item" href="settings.html">Settings</a>
                        <a class="dropdown-item" href="index.html">Logout</a>
                    </div>
                </li>
            </ul>


            <div class="dropdown mobile-user-menu">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i
                        class="fa-solid fa-ellipsis-vertical"></i></a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="profile.html">My Profile</a>
                    <a class="dropdown-item" href="settings.html">Settings</a>
                    <a class="dropdown-item" href="index.html">Logout</a>
                </div>
            </div>

        </div>

        <!-- side bar content-->

        <div class="sidebar" id="sidebar">
            <div class="sidebar-inner slimscroll">
                <div id="sidebar-menu" class="sidebar-menu">

                    <ul class="sidebar-verticalaling
                    ">

                        <li class="menu-title">
                            <span>Main</span>

                        <li class="submenu">
                            <a href="master.html"><i class="la la-dashboard"></i> <span> Dashboard</span></a>

                        <li class="submenu">
                            <a href="#" class="noti-dot"><i class="la la-user"></i> <span>Project</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul>
                                <li><a href="team-list.html">Team List</a></li>
                                <li><a href="project-list.html">Project Upload</a></li>
                                <li><a href="">Validation Progress</a></li>
                                <li><a href="">Implentation</a></li>
                                <li><a href="job.html">Progress ATP</a></li>
                                <li><a href="-">Project Order</a></li>
                            </ul>
                        </li>

                        <li class="submenu">
                            <a href="#"><i class="la la-money"></i> <span> Payroll </span> <span
                                    class="menu-arrow"></span></a>
                            <ul>
                                <li><a href="salary.html"> Employee Salary </a></li>
                                <li><a href="salary-view.html"> Payslip </a></li>
                                <li><a href="payroll-items.html"> Payroll Items </a></li>
                            </ul>
                        </li>

                        <li>
                            <a href="activities.html"><i class="la la-bell"></i> <span>Activities</span></a>
                        </li>

                        <li>
                            <a href="-"><i class="la la-box-open"></i> <span>Inventory</span></a>
                        </li>

                        <li class="menu-title">
                            <span>Pages</span>
                        </li>
                        <li class="submenu">
                            <a href="#"><i class="la la-user"></i> <span> Profile </span> <span
                                    class="menu-arrow"></span></a>
                            <ul>
                                <li><a href="profile.html"> Employee Profile </a></li>
                                <li><a href="client-profile.html"> Client Profile </a></li>

                            </ul>
                        <li>
                            <a href="users.html"><i class="la la-user-plus"></i> <span>Users</span></a>
                        </li>
                        <li>
                            <a href="settings.html"><i class="la la-cog"></i> <span>Settings</span></a>
                        </li>
                        </li>

                    </ul>

                </div>
            </div>
        </div>



        <!--Start Content-->
        <div class="page-wrapper">

            <div class="content container-fluid">

                <div class="page-header">
                    <div class="row align-items-center">
                        <div class="col">
                            <h3 class="page-title">Team List</h3>
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="admin-dashboard.html">Dashboard</a></li>
                                <li class="breadcrumb-item active">Team List</li>
                            </ul>
                        </div>
                        <div class="col-auto float-end ms-auto">
                            <a href="#" class="btn add-btn" data-bs-toggle="modal" data-bs-target="#add_employee"><i
                                    class="fa-solid fa-plus"></i> Add Team</a>
                           
                        </div>
                    </div>
                </div>


                <div class="row filter-row">
                    <div class="col-sm-6 col-md-3">
                        <div class="input-block mb-3 form-focus">
                            <input type="text" class="form-control floating">
                            <label class="focus-label">Name</label>
                        </div>
                    </div>

                    <div class="col-sm-6 col-md-3">
                        <a href="#" class="btn btn-success w-100"> Search </a>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="table-responsive">
                            <table class="table table-striped custom-table datatable" id="daftar_team">
                                <thead>
                                    <tr>
                                        <th>NO</th>
                                        <th>Name</th>
                                        <th>Team ID</th>
                                        <th>Email</th>
                                        <th>Phone Number</th>
                                        <th class="text-nowrap">NIK</th>
                                        <th>NO. K3</th>
                                        <th>Role</th>
                                        <!-- <th>Status</th>
                                        <th>City</th> -->
                                        <th class="text-end no-sort">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <!-- <td>1</td>
                                        <td>
                                            <h2 class="table-avatar">
                                                <a href="profile.html" class="avatar"><img
                                                        src="assets/img/profiles/avatar-02.jpg" alt="User Image"></a>
                                                <a href="profile.html">John Doe <span>Web Designer</span></a>
                                            </h2>
                                        </td>
                                        <td>FT-0001</td>
                                        <td><a href="https://smarthr.dreamguystech.com/cdn-cgi/l/email-protection"
                                                class="__cf_email__"
                                                data-cfemail="c9a3a6a1a7ada6ac89acb1a8a4b9a5ace7aaa6a4">[email&#160;protected]</a>
                                        </td>
                                        <td>9876543210</td>
                                        <td>16089999999</td>
                                        <td>57555557777</td>
                                        <td>
                                            <div class="dropdown">
                                                <a href="#" class="btn btn-white btn-sm btn-rounded dropdown-toggle"
                                                    data-bs-toggle="dropdown" aria-expanded="false">Web Developer </a>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="#">Software Engineer</a>
                                                    <a class="dropdown-item" href="#">Software Tester</a>
                                                    <a class="dropdown-item" href="#">Frontend Developer</a>
                                                    <a class="dropdown-item" href="#">UI/UX Developer</a>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="action-label">
                                                <a class="btn btn-white btn-sm btn-rounded" href="#"
                                                    data-bs-toggle="dropdown" aria-expanded="false">
                                                    <i class="fa-regular fa-circle-dot text-danger"></i>
                                                    Cancelled
                                                </a>
                                            </div>
                                        </td>
                                        <td>Lampung</td>
                                        <td class="text-end">
                                            <div class="dropdown dropdown-action">
                                                <a href="#" class="action-icon dropdown-toggle"
                                                    data-bs-toggle="dropdown" aria-expanded="false"><i
                                                        class="material-icons">more_vert</i></a>
                                                <div class="dropdown-menu dropdown-menu-right">
                                                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                                        data-bs-target="#edit_employee"><i
                                                            class="fa-solid fa-pencil m-r-5"></i> Edit</a>
                                                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                                        data-bs-target="#delete_employee"><i
                                                            class="fa-regular fa-trash-can m-r-5"></i> Delete</a>
                                                </div>
                                            </div>
                                        </td> -->
                                    </tr> 
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>


            <div id="add_employee" class="modal custom-modal fade" role="dialog">
                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Add Team</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="form_buat_tim">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">First Name <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="text" name="first_name" id="form_isi_first_name">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Last Name</label>
                                            <input class="form-control" type="text" name="last_name" id="form_isi_last_name">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Username <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="text" name="username" id="form_isi_username">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Email <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="email" name="email" id="form_isi_email">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Password</label>
                                            <input class="form-control" type="password" name="password" id="form_isi_password">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Confirm Password</label>
                                            <input class="form-control" type="password" name="password_confirm" id="form_isi_password_confirm">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Team ID <span
                                                    class="text-danger">*</span></label>
                                            <input type="text" class="form-control" name="team_id" id="form_isi_team_id">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Joining Date <span
                                                    class="text-danger">*</span></label> <!-- v datetimepicker-->
                                            <div class="cal-icon"><input class="form-control " type="text" name="join_date" id="form_isi_join_date"></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Phone </label>
                                            <input class="form-control" type="text" name="no_hp" id="form_is_no_hp">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">NIK</label>
                                            <input class="form-control" type="text" name="nik" id="form_isi_nik">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">NO K3</label>
                                            <input class="form-control" type="text" name="no_k3" id="form_isi_no_k3">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Role</label>
                                            <input class="form-control" type="text" name="role" id="form_isi_role">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="submit-section">
                                    <button class="btn btn-primary submit-btn">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="edit_employee" class="modal custom-modal fade" role="dialog">
                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Add Team</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="form_edit_tim">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">First Name <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="text" name="first_name" id="form_edit_first_name">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Last Name</label>
                                            <input class="form-control" type="text" name="last_name" id="form_edit_last_name">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Username <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="text" name="username" id="form_edit_username">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Email <span
                                                    class="text-danger">*</span></label>
                                            <input class="form-control" type="email" name="email" id="form_edit_email">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Password</label>
                                            <input class="form-control" type="password" name="password" id="form_edit_password">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Confirm Password</label>
                                            <input class="form-control" type="password" name="password_confirm" id="form_edit_password_confirm">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Team ID <span
                                                    class="text-danger">*</span></label>
                                            <input type="text" class="form-control" name="team_id" id="form_edit_team_id">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Joining Date <span
                                                    class="text-danger">*</span></label> <!-- v datetimepicker-->
                                            <div class="cal-icon"><input class="form-control " type="text" name="join_date" id="form_edit_join_date"></div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Phone </label>
                                            <input class="form-control" type="text" name="no_hp" id="form_edit_no_hp">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">NIK</label>
                                            <input class="form-control" type="text" name="nik" id="form_edit_nik">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">NO K3</label>
                                            <input class="form-control" type="text" name="no_k3" id="form_edit_no_k3">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="input-block mb-3">
                                            <label class="col-form-label">Role</label>
                                            <input class="form-control" type="text" name="role" id="form_edit_role">
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="submit-section">
                                    <button class="btn btn-primary submit-btn">Submit</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal custom-modal fade" id="delete_team" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="form-header">
                                <h3>Delete</h3>
                                <p>Are you sure want to delete?</p>
                            </div>
                            <div class="modal-btn delete-action">
                                <div class="row">
                                    <div class="col-6">
                                        <a href="" class="btn btn-primary continue-btn" onclick="deleteTeam()">Delete</a>
                                    </div>
                                    <div class="col-6">
                                        <a href="" data-bs-dismiss="modal"
                                            class="btn btn-primary cancel-btn">Cancel</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="assets/js/jquery-3.7.0.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.slimscroll.min.js"></script>
    <script src="assets/plugins/morris/morris.min.js"></script>
    <script src="assets/plugins/raphael/raphael.min.js"></script>
    <script src="assets/js/chart.js"></script>
    <script src="assets/js/greedynav.js"></script>
    <script src="assets/js/layout.js"></script>
    <script src="assets/js/theme-settings.js"></script>
    <script src="assets/js/app.js"></script>

    <script>
        window.onload = function() {
            getDaftarTim();
        }

        // Daftar kolom pada tabel
        var tableCols = [
            'username',
            'team_id',
            'email',
            'no_hp',
            'nik',
            'no_k3',
            'role',
        ]

        function getDaftarTim()
        {
            var formData = {'function' : 'getTeamList', 'columns' : JSON.stringify(tableCols)};

            $.ajax({
                url: '/ProjectKP/project/controller/team.php',
                method: 'post',
                data: formData,
                success: function(r) {
                    var responseObj = JSON.parse(r);
                    fillTable('daftar_team', responseObj.data);
                },
                error: function(r) {
                    var responseObj = error.responseJSON || JSON.parse(error.responseText);
                    alert(responseObj.message || "Terjadi Kesalahan..");
                },
            });
        }

        function fillTable(table_id, data)
        {
            var table = document.getElementById(table_id);
            var body = table.tBodies[0];
            var idx = 1;

            $.each(data, function(index, element)
            {
                var row = body.insertRow(-1);
                var num = row.insertCell(-1);
                num.innerHTML = idx++;

                tableCols.forEach((key) => 
                {
                    var cell = row.insertCell(-1);
                    var value = element[key];
                    cell.innerHTML = value;
                });

                var endCell = row.insertCell(-1);
                endCell.innerHTML = `<div class="dropdown dropdown-action">
                                        <a href="#" class="action-icon dropdown-toggle" 
                                            data-bs-toggle="dropdown" aria-expanded="false"><i
                                                class="material-icons">more_vert</i></a>
                                        <div class="dropdown-menu dropdown-menu-right">
                                            <a class="dropdown-item" href="#" data-bs-toggle="modal" onclick="fillFormData('`+element["team_id"]+`')"
                                                data-bs-target="#edit_team"><i
                                                    class="fa-solid fa-pencil m-r-5"></i> Edit</a>
                                            <a class="dropdown-item" href="#" data-bs-toggle="modal" onclick="deleteConfirm('`+element["team_id"]+`')"
                                                data-bs-target="#delete_team"><i
                                                    class="fa-regular fa-trash-can m-r-5"></i>Delete</a>
                                        </div>
                                    </div>`;
            });
        }

        var formColumns = [
            'username',
            'team_id',
            'email',
            'password',
            'no_hp',
            'nik',
            'no_k3',
            'role',
        ]

        // Isi form input dengan data proyek dengan id
        function fillFormData(id) {
            $.get({
                url: '/ProjectKP/project/controller/proyek.php?function=getTeamById&team_id='+id,
                success: function(r) {
                    let response = $.parseJSON(r);
                    data = response.data;

                    formColumns.forEach((attr) => {
                        $("#form_edit_"+attr).val(data[attr]);
                    });
                }
            });
        }

        // Fungsi submit form input tim
        $("#form_buat_tim").submit(function (e) {
            e.preventDefault();
            var formData = new FormData($(this)[0]);
            formData.append('function', 'CreateTeam');

            $.ajax({
                url: '/ProjectKP/project/controller/team.php',
                method: 'post',
                processData: false,
                contentType: false,
                cache: false,
                data: formData,
                success: function(r) {
                    response = $.parseJSON(r);
                    alert(response.message);
                    location.reload(true);
                },
                error: function(r) {
                    alert("Terjadi kesalahan..");
                }
            });
        });

        // Fungsi submit form input tim
        $("#form_edit_tim").submit(function (e) {
            e.preventDefault();
            var formData = new FormData($(this)[0]);
            formData.append('function', 'CreateTeam');

            $.ajax({
                url: '/ProjectKP/project/controller/team.php',
                method: 'post',
                processData: false,
                contentType: false,
                cache: false,
                data: formData,
                success: function(r) {
                    alert("Team berhasil di submit!");
                    location.reload(true);
                },
                error: function(r) {
                    alert("Terjadi kesalahan..");
                }
            });
        });

        // Hapus Tim
        var id_to_delete = '';

        function deleteConfirm(id) {
            id_to_delete = id;
        }

        function deleteTeam()
        {
            var formData = {"team_id" : id_to_delete, "function" : "DeleteTeam"};

            $.ajax({
                url: "/ProjectKP/project/controller/team.php",
                method: 'post',
                // processData: false,
                // contentType: false,
                // cache: false,
                data: formData,
                success: function(r) {
                    var resp = $.parseJSON(r);
                    alert(resp.message);
                    location.reload(true);
                },
                error: function(r) {
                    alert("Terjadi kesalahan!");
                },
            });
        }
    </script>
</body>


</html>